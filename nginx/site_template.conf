server {
    listen 80;
    # 修改域名
    server_name example.com;
    
    # 网站根目录，建议放在 /srv/www/ 下并建子目录
    root /srv/www/example.com;
    index index.php index.html index.htm;

    location / {
        try_files $uri $uri/ =404;
    }

    # PHP-FPM 配置
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        
        # 默认 Debian/Ubuntu PHP-FPM socket 路径
        # 根据实际安装版本可能不同，通用做法是用 TCP 或检查 socket 文件名
        # 这里假设 Dockerfile 安装的是默认 php-fpm (通常是 /run/php/php-fpm.sock)
        # 注意 Dockerfile 里我们没有特定指定 sock 路径，通常默认是 /run/php/phpX.X-fpm.sock
        # 为了兼容，建议用 127.0.0.1:9000 (需要改 pool.d/www.conf) 或者在此处使用通配
        
        # 简单起见，我们先写一个常见的 socket 路径，若不通需要用户检查 /run/php/ 下的文件
        fastcgi_pass unix:/run/php/php8.2-fpm.sock;
    }

    location ~ /\.ht {
        deny all;
    }
}
